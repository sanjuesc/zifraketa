/*
 * This Java source file was generated by the Gradle 'init' task.
 */

package Zifratu;

import java.util.Random;

public class App {

    public String alfabetoa="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    public String gakoa;
    public App(String gakoa){
        this.gakoa=gakoa;
    }
    public static void main(String[] args) {
        zifratuProbak();
        dezifratuProbak();
    }

    private static void dezifratuProbak() {
        String gakoa="ZXCVBNMASDFGHJKLQWERTYUIOP";
        App probak = new App(gakoa);
        String mezuZifratua = "BP MZTVB MBWWZWBJ ZGVB";
        System.out.println("Hurrengo mezua zifratuko da: "+ mezuZifratua);
        System.out.println("Alfabeto hau erabiliz: "+ probak.gakoa);
        System.out.println("Eta lortu dugun mezu zifratua honakoa da: "+probak.deszifratu(mezuZifratua));
    }


    public static void zifratuProbak(){
        String gakoa="ZXCVBNMASDFGHJKLQWERTYUIOP";
        String mezua = "EZ GAUDE GERRAREN ALDE";
        App probak = new App(gakoa);
        System.out.println();
        System.out.println("Orain defektuzko gakoaz zifratuko dugu");
        System.out.println("Hurrengo mezua zifratuko da: "+ mezua);
        System.out.println("Alfabeto hau erabiliz: "+ probak.gakoa);
        System.out.println("Eta lortu dugun mezu zifratua honakoa da: "+probak.zifratu(mezua));

        System.out.println();
        System.out.println("Orain zorizko gako batekin zifratuko dugu");
        probak.generatuGakoa();
        System.out.println("Hurrengo mezua zifratuko da: "+ mezua);
        System.out.println("Alfabeto hau erabiliz: "+ probak.gakoa);
        System.out.println("Eta lortu dugun mezu zifratua honakoa da: "+probak.zifratu(mezua));
    }

    public void generatuGakoa(){
        String gakoRandom="";
        int lenght = alfabetoa.length();
        Random random = new Random();
        char unekoChar;
        //Âºint zikloKop=0;
        while(lenght>gakoRandom.length()){
            StringBuilder sb = new StringBuilder(alfabetoa);
            int unekoa = random.nextInt(alfabetoa.length());
            unekoChar=alfabetoa.charAt(unekoa);
            gakoRandom+=unekoChar;
            sb.deleteCharAt(unekoa);
            alfabetoa=sb.toString();
           // zikloKop++;
        }
        alfabetoa="ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        this.gakoa=gakoRandom;
    }
    public String zifratu(String mezua){
        String emaitza="";
        for(int i=0;i<mezua.length();i++){
            if(this.alfabetoa.contains(""+mezua.charAt(i))){
                emaitza+=this.gakoa.charAt(this.alfabetoa.indexOf(mezua.charAt(i)));
            }else{
                emaitza+=mezua.charAt(i);
            }
        }
        return emaitza;
    }
    public String deszifratu(String kripto){
        String emaitza="";
        for(int i=0;i<kripto.length();i++){
            if(this.gakoa.contains(""+kripto.charAt(i))){
                emaitza+=alfabetoa.charAt(this.gakoa.indexOf(kripto.charAt(i)));
            }else{
                emaitza+=kripto.charAt(i);
            }
        }
        return emaitza;
    }



}
